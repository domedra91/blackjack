#Blackjack/21 game!
import random

#intro to start game

print("------------------------------------------------------------------------------------------------------------------")
print("Welcome to the wonderful game of Blackjack!  This game will be 1v1 vs the dealer and one hand")
print("Are you ready to play?  Press '1' to start")
start_game = int(input())

if start_game == 1:
    print("Let's get started.. What's your buy-in today?  Please enter your amount")
    buy_in = float(input())
    balance = buy_in

    while balance > 0:
        print("Please enter your wager")
        wager = float(input())
        print("Thanks for your wager of $" + str(wager) + ".  Now let's deal the cards!")
        dealer_hand = random.randint(1,21)
        player_hand = random.randint(1,21)
        if dealer_hand > 11:
            dealer_show = dealer_hand - random.randint(1,11)
            print("Player has " + str(player_hand) + ".  Dealer has " + str(dealer_show)  + ".  Would you like another card?  Press 'y' for yes, 'n' to stay")
            decision = str(input())

            while decision == "y":
                if player_hand < 21:
                    player_hand += random.randint(1,11)
                    print("Player has " + str(player_hand) + ".  Would you like another card?  Press 'y' for yes, 'n' for no.")
                    decision == str(input())
                if player_hand == 21:
                    print("Player has 21!")
                    if player_hand > dealer_hand:
                        balance += wager 
                        print("Player wins!  Your new balance is $" + str(balance))
                    else:
                        balance = balance
                        print("Player and Dealer push.  Your balance is " + str(balance))
                if player_hand > 21:
                    balance -= wager
                    print("Player busted.  Try again.  Your new balance is $" + str(balance))

            
                if dealer_hand < 16:
                    dealer_hand += random.randint(1,11)
                    print("Dealer has " + str(player_hand))
                if dealer_hand == 21:
                    if dealer_hand > player_hand:
                        balance -= wager
                        print("Dealer 21!  Try again.  Your new balance is $" + str(balance))
                    if dealer_hand == player_hand:
                        print("Dealer and player push!" + str(balance))
                if dealer_hand > 21:
                    balance += wager 
                    print("Dealer busted!  Your new balance is $" + str(balance))
               


        else:
            print("Player has " + str(player_hand) + ".  Dealer has " + str(dealer_hand)  + ".  Would you like another card?  Press 'y' for yes, 'n' to stay")
            decision = str(input())

            if decision == "y":
                while player_hand < 21:
                    player_hand += random.randint(1,11)
                    print("Player has " + str(player_hand) + ".  Would you like another card?  Press 'y' for yes, 'n' for no.")
                    decision == str(input())
                if player_hand == 21:
                    print("Player has 21!")
                    if player_hand > dealer_hand:
                        balance += wager 
                        print("Player wins!  Your new balance is $" + str(balance))
                    else:
                        balance = balance
                        print("Player and Dealer push.  Your balance is " + str(balance))
                if player_hand > 21:
                    balance -= wager
                    print("Player busted.  Try again.  Your new balance is $" + str(balance))


            if decision == "n":
                while dealer_hand < 16:
                    dealer_hand += random.randint(1,11)
                    print("Dealer has " + str(player_hand))
                if dealer_hand == 21:
                    if dealer_hand > player_hand:
                        balance -= wager
                        print("Dealer 21!  Try again.  Your new balance is $" + str(balance))
                    if dealer_hand == player_hand:
                        print("Dealer and player push!" + str(balance))
                if dealer_hand > 21:
                    balance += wager 
                    print("Dealer busted!  Your new balance is $" + str(balance))


        
        


    if balance < 0:
        print("Insufficient funds, please redeposit if you wish to keep playing.  Press 'y' redeposit, 'n' for no")
        rebuy = input()
        if rebuy == 'y':
            buy_in = float(input())
            balance = buy_in 
        if rebuy == 'n':
            print("No worries, we will be here when you are ready.  Have a nice day!")

if start_game != 1:
    print("No worries, we will be here when you are ready.  Have a nice day!")