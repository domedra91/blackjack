#Blackjack/21 game!
import random

#intro to start game
print("------------------------------------------------------------------------------------------------------------------")
print("Welcome to the wonderful game of Blackjack!  This game will be 1v1 vs the dealer and one hand")
print("Are you ready to play?  Press '1' to start")
start_game = int(input())
if start_game == 1:
        print("Let's get started.. What's your buy-in today?  Please enter your amount")
        buy_in = float(input())
        balance = buy_in

        while balance > 0:
            print("Your balance is $" + str(balance) + ".  What is your wager?")
            bet = float(input())
            if bet <= 0:
                print("Bet rejected.  Please enter a number greater than $0.")
                bet = float(input())
                print("Thanks for your wager of " + str(bet) + ".")
            else:
                print("Thanks for your wager of " + str(bet) + ".")
                print("Now, let's deal the cards.")
                player_hand = random.randint(1,21)
                dealer_hand = random.randint(1,21)
                if player_hand == 21:
                    print("Player Blackjack!" + str(player_hand))
                    balance += bet
                    print("You're balance is now " + str(balance))
                else:
                    print("You currently have " + str(player_hand) + ".  Would you like another card?  Press 'y' for yes, 'n' to stay")
                    decision = input()
                    while decision == "y":
                        while player_hand < 21:
                            next_card = random.randint(1,11)
                            player_hand += next_card
                            print("You currently have " + str(player_hand) +  ".  Would you like another card? Press 'y' for yes, 'n' to stay")
                            decision = input()
                            
                        if player_hand > 21:
                            dealer_hand < 21:
                            next_card = random.randint(1,11)
                            dealer_hand += next_card
                            print("Dealer currently has " + str(dealer_hand) +  ".")
                            if dealer_hand <= 17:
                                next_card = random.randint(1,11)
                                dealer_hand += next_card
                                print("Dealer currently has " + str(dealer_hand))
                                if 17 <= dealer_hand <= 20:
                                    if dealer_hand > player_hand:
                                        balance -= bet
                                        print("Dealer wins!  Your balance is now" + str(balance))
                                    elif dealer_hand == player_hand:
                                        balance = balance
                                        print("Player pushes.  Your bet is returned and now " + str(balance))
                                    else:
                                        balance += bet
                                        print("Player wins!  Your balance is now" + str(balance))

                        if dealer_hand == 21:
                            print("Dealer Blackjack!" + str(dealer_hand))
                            balance -= bet
                            print("You're balance is now " + str(balance))
                        if dealer_hand > 21:
                            print("Dealer busted!")
                            balance += bet
                            print("You're balance is now " + str(balance))



                            if player_hand < 21:
                                next_card = random.randint(1,11)
                                player_hand += next_card
                                print("You currently have " + str(player_hand) +  ".  Would you like another card? Press 'y' for yes, 'n' to stay")
                                decision = input()
                            if player_hand == 21:
                                print("Player Blackjack!" + str(player_hand))
                                balance += bet
                                print("You're balance is now " + str(balance))
                            if player_hand > 21:
                                print("Sorry you busted")
                                balance -= bet
                                print("You're balance is now " + str(balance))
                        if player_hand == 21:
                            print("Player Blackjack!" + str(player_hand))
                            balance += bet
                            print("You're balance is now " + str(balance))
                        if player_hand > 21:
                            print("Sorry you busted")
                            balance -= bet
                            print("You're balance is now " + str(balance))
                    if decision == "n":
                        if dealer_hand < 21:
                            next_card = random.randint(1,11)
                            dealer_hand += next_card
                            print("Dealer currently has " + str(dealer_hand) +  ".")
                            if dealer_hand <= 17:
                                next_card = random.randint(1,11)
                                dealer_hand += next_card
                                print("Dealer currently has " + str(dealer_hand))
                            if 17 <= dealer_hand <= 20:
                                if dealer_hand > player_hand:
                                    balance -= bet
                                    print("Dealer wins!  Your balance is now" + str(balance))
                                elif dealer_hand == player_hand:
                                    balance = balance
                                    print("Player pushes.  Your bet is returned and now " + str(balance))
                                else:
                                    balance += bet
                                    print("Player wins!  Your balance is now" + str(balance))

                        if dealer_hand == 21:
                            print("Dealer Blackjack!" + str(dealer_hand))
                            balance -= bet
                            print("You're balance is now " + str(balance))
                        if dealer_hand > 21:
                            print("Dealer busted!")
                            balance += bet
                            print("You're balance is now " + str(balance))


                else:
                    if dealer_hand == 21:
                        print("Dealer Blackjack!" + str(dealer_hand))
                        balance -= bet
                        print("You're balance is now " + str(balance))

            
if start_game != 1:
        print("No worries, we will be here when you are ready.  Have a nice day!")
